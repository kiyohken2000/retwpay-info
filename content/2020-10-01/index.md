---
title: Apple Siliconがドメインスペシフィックコンピューティング時代の到来を告げる
tags: [ javascript, nodejs, rxjs, typescript, reactjs, gatsby, html, css, python ]
date: 2020-10-01
path: blog/2020-10-01
cover: ./img.png
excerpt: Apple Silicon will usher in a Domain-Specific computing era for desktop PCs.
---

### 特別な年のiPhone

今年、Appleは初めてiPhoneのモデルチェンジを発売の数ヶ月前から予告しています。2020Q3業績発表時に行われた投資家向けの会議の中でLuca Maestri CFOが"2020年モデルのiPhone"の発売が例年と比べて数週間遅れることを認めたからです。

2011年のiPhone4S以来、iPhoneのモデルチェンジは9月の上旬に発表、下旬に発売というサイクルで行われてきました。その数週間後となると10月のどこかということになります。米国で最も消費が行われるホリデーシーズンが11月26日の感謝祭から始まるため、新製品はその前に発売していなければなりません。それに加えて今年は11月3日に大統領選挙が行われます。そのため選挙の更に前の時期である10月中旬には新型iPhoneの正式発表が行われると考えられます。

### 特別なSoC

新型iPhoneに搭載されるとみられるA14 SoCは9月に行われた新製品発表イベントにてiPad Air(2020)に搭載されるという形で発表済みです。A14はTSMC N5で製造されるSoCです。数ヶ月の差とはいえiPhoneのSoCよりも、iPadファミリーのSoCがプロセスルールで先行するのはiPad Pro(2017)のA10X(TSMC 10FF)以来となります。当時最新のiPhone7はA10であり、1世代前のプロセス(TSMC 16FFC)で製造されていました。

TSMC N5は大量生産される半導体製品として初めてEUVリソグラフィが"大規模"に使われるプロセスです。もともと7nm世代には従来の液浸多重露光ArFエキシマレーザー光源を使用したN7と、EUV(Extreme Ultra Violet)を使用したN7+が開発されていました。7nm世代ではN7+こそが本命であり長寿なプロセスになるという話でしたが、蓋を開けてみれば"Apple A13"、"Snapdragon 865"、"NVIDIA A100"とメジャーなチップはN7の改良版であるN7Pが使用されたため、初のEUVプロセスであるN7+で製造されたのはHiSiliconの"Kirin 990 5G"のみにとどまりました。なお、AMDのMilanとVermeerは記事執筆時点では未発表のためN7PとN7+のどちらが使われるかは不明です。

EUVリソグラフィを使用したチップが大量に出荷されるのはA14が初となります。

### A14 Bionic

このA14ですが、CPUコアはビッグコアが2個にスモールコアが4個のヘテロジニアス構成で、ディープラーニング向けのマトリックス積和算命令拡張を備えています。GPUコアはAppleアーキテクチャコアで4コア構成です。前世代のA13から大きく拡張されたのはニューラルネットワークエンジンで8コアから16コアへと倍増しています。最近のCPUはデナード・スケーリングの制約により微細化しても電力が低減されないため、特定のドメインに特化したパフォーマンス向上がトレンドとなっています。

つまり、CPUコアを増やすだけでは消費電力が増加してしまうため、特定のワークロードに特化したアクセラレータを搭載するドメインスペシフィック拡張を行うことがトレンドとなっており、その最新版がA14 Bionicです。

### もう一つの新製品

実はAppleは今年、もう一つの新製品を投資家向け会議の更に前に予告しています。6月に行われた年次開発者会議"WWDC 2020"です。この中でAppleは、MacのCPUをIntelからARMアーキテクチャをベースにした自社製CPU"Apple Silicon"に置き換えていくことを明らかにしました。同時に年内にApple Siliconを搭載したMacが出荷されることを発表しています。そして、すでにiPad Pro(2020)のApple SiliconであるA12Zを搭載したMac miniを開発者向けに貸し出しています。

年内に出荷が開始される初の製品版のApple Silicon Macですが、搭載されるSoCは当然A14もしくはA14を拡張したA14X、もしくはA14を複数搭載すると考えられます。

### モバイルデバイスの文脈をデスクトップコンピューティングに持ち込む

現在、パソコンに搭載されているx86-64 CPUはGPUやI/O機能の統合を開始して10年が経ちます。しかしディープラーニング推論ユニットやその他のアクセラレータは統合されていません。Apple Siliconはこのトラディショナルなデスクトップコンピューティングの世界にモバイルデバイスで培ったドメインスペシフィックコンピューティングを持ち込むことになりそうです。

### Geforceが示唆する未来

では、ニューラルエンジンを始めとする様々なアクセラレータが統合されたデスクトップコンピューティングとはどのようなものになるのでしょうか。Nvidiaが良い例となりそうです。

NvidiaはGeforce RTXシリーズ(Turing)で従来の演算ユニットであるCUDAコアに加えて、レイトレーシング演算を専用に行うRTコアと、ディープラーニング演算用ユニットであるTensorコアを統合しました。Nvidiaは、このTensorコアをディープラーニングを利用した超解像処理(DLSS)に使用しています。加えて、CUDAコアを利用した機能ですが音声ノイズリダクションであるRTX Voiceにもディープラーニングの推論処理を使用しています。

Geforceの事例は一端にすぎませんが、おそらくApple Silicon Macに搭載されるA14のニューラルエンジンもこういった処理に使われると考えられます。

### Apple Computer

現在のMacもすでにAプロセッサーをベースとしたT2チップを使い動画のトランスコードを行っています。つまりAppleはすでに一部の処理を専用チップにオフロードしています。Apple Silicon Macは特定のワークロードに特化した様々なアクセラレータを搭載する方向性を加速させていくでしょう。

汎用の計算機の延長としてのパソコンの時代は終わり、様々な処理に特化した"なんでもできる専用機"というのがAppleの定義するコンピューティングなのかもしれません。

---